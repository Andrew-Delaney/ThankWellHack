(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/logo.449e68db.png"},33:function(e,t,a){e.exports=a.p+"static/media/thanks.5fff3788.jpg"},36:function(e,t,a){e.exports=a(55)},41:function(e,t,a){},42:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(7),r=a.n(l),o=(a(41),a(6)),s=a(4),i=a(71),m=a(72),u=a(32),d=a.n(u),h=(a(42),function(){return c.a.createElement("div",{className:"HeaderBar"},c.a.createElement("div",{className:"d-flex flex-row justify-content-between w-100"},c.a.createElement(o.b,{to:"/",className:"logo-link"},c.a.createElement("img",{src:d.a,alt:"logo",className:"logo"})),c.a.createElement("div",{className:"d-flex links"},c.a.createElement(o.b,{className:"HeaderBar-link",to:"/"},"Home"),c.a.createElement(o.b,{className:"HeaderBar-link",to:"/give-thanks"},"Give Thanks"),c.a.createElement(o.b,{className:"HeaderBar-link",to:"/groups"},"Groups"),c.a.createElement(o.b,{className:"HeaderBar-link",to:"/messages"},"Messages"),c.a.createElement("div",{className:"HeaderBar-icon"},c.a.createElement(i.a,null)),c.a.createElement("div",{className:"HeaderBar-icon"},c.a.createElement(m.a,null)))))}),p=a(11),f=(a(48),function(e){var t=e.image,a=e.message,n=e.recipient,l=e.id;return c.a.createElement("div",{className:"ThankYouCard col-10 col-sm-8 col-md-4 col-lg-3"},c.a.createElement(o.b,{to:"/thanks/".concat(l)},c.a.createElement("img",{className:"ThankYouCard-image",src:t,alt:"Thank you!"}),c.a.createElement("div",{className:"ThankYouCard-text"},c.a.createElement("h5",{className:"ThankYouCard-text-recipient"},n),c.a.createElement("div",{className:"ThankYouCard-text-message"},a))))}),E=a(33),b=a.n(E),g=(a(49),function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(new Map),o=Object(p.a)(r,2),s=o[0],i=o[1];return Object(n.useEffect)((function(){fetch("/api/all").then((function(e){return e.json()})).then((function(e){return l(e),e})).then((function(e){return e.map((function(e){return fetch("/api/image/".concat(e.imageId)).then((function(e){return e.json()})).then((function(t){var a=new Map(s);a[e.id]="data:image/".concat(t.type,";base64,").concat(t.decodedContent),i(a)}))}))}))}),[]),c.a.createElement("div",{className:"Dashboard"},c.a.createElement("h2",{className:"mt-3 mb-3 pb-4 font-weight-bolder"},"Home"),c.a.createElement("div",{className:"Dashboard-cards row no-gutters"},a&&a.map((function(e,t){return c.a.createElement(f,{key:t,recipient:e.recipient,message:e.message,image:s[e.id]?s[e.id]:b.a,id:e.id})}))))}),k=function(){return c.a.createElement("div",{className:"Homepage"},c.a.createElement(g,null))},v=(a(50),function(e){var t=e.match,a=Object(n.useState)({id:null,message:null,recipient:null,imageId:null}),l=Object(p.a)(a,2),r=l[0],o=l[1],s=Object(n.useState)(null),i=Object(p.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){fetch("/api/thanks/".concat(t.params.id)).then((function(e){return e.json()})).then((function(e){return o(e),e})).then((function(e){void 0!==e.imageId&&fetch("/api/image/".concat(e.imageId)).then((function(e){return e.json()})).then((function(e){return u(e)}))}))}),[t]),c.a.createElement("div",{className:"ThanksComposer"},c.a.createElement("h1",{className:"recipient-name pb-5"},"Dear ",r.recipient,"..."),c.a.createElement("div",{className:"message-content d-flex flex-column justify-content-between mr-2"},c.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},c.a.createElement("span",null,r.message)),c.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},m&&m.decodedContent&&c.a.createElement("img",{className:"image",src:"data:image/".concat(m.type,";base64,").concat(m.decodedContent),alt:"Thank You!"}))),c.a.createElement("h1",{className:"recipient-name pb-4 pt-2"},"Thank you."))}),N=(a(51),function(e){var t=e.buttonText,a=e.onClick;return c.a.createElement("button",{className:"ActionButton",onClick:a},t)}),j=a(73),T=a(74),w=a(81),C=a(80),x=a(82),y=(a(52),function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(""),s=Object(p.a)(r,2),i=s[0],m=s[1],u=Object(n.useState)(null),d=Object(p.a)(u,2),h=d[0],f=d[1],E=Object(n.useState)((function(){var e=document.createElement("input");return e.setAttribute("type","file"),e.setAttribute("id","testFileSelector"),e.onchange=function(e){return f(e.target.files[0])},e})),b=Object(p.a)(E,1)[0],g=c.a.useState(!1),k=Object(p.a)(g,2),v=k[0],y=k[1],O=function(){y(!1)},S=function(){if(""!==a&&""!==i){if(null!==h){var e=new FormData;e.append("image",h),fetch("/api/thanks?message=".concat(a,"&recipient=").concat(i),{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}else fetch("/api/thanks?message=".concat(a,"&recipient=").concat(i),{method:"POST"}).then((function(e){return e.json()})).then((function(e){return console.log(e)}));y(!0)}},H=function(e){e.preventDefault(),b.click()};return c.a.createElement("div",{className:"ThanksComposer"},c.a.createElement("h2",{htmlFor:"thanks-input",className:"m-3 pb-4 font-weight-bolder"},"Give Thanks"),c.a.createElement("div",{className:"ThanksComposer-input"},c.a.createElement("label",{htmlFor:"thanks-input"},c.a.createElement("span",{className:"recipient-input pr-2 font-weight-bold"},"To:"),c.a.createElement("input",{type:"text",className:"recipient-input thanks-border",value:i,onChange:function(e){return m(e.target.value)},placeholder:"Recipient"})),c.a.createElement("textarea",{id:"thanks-input",className:"ThanksComposer-input-text thanks-border",value:a,onChange:function(e){return l(e.target.value)},placeholder:"Personalise your thank you message."}),c.a.createElement("div",{className:"ThanksComposer-input-lower"},c.a.createElement(j.a,{className:"ThanksComposer-input-lower-icon",onClick:H}),c.a.createElement(T.a,{className:"ThanksComposer-input-lower-icon",onClick:H}),c.a.createElement("div",{className:"ThanksComposer-input-lower-submit"},c.a.createElement(N,{buttonText:"Thank",onClick:function(){return S()}})))),c.a.createElement(w.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:v,onClose:O,closeAfterTransition:!0,BackdropComponent:C.a,BackdropProps:{timeout:500}},c.a.createElement(x.a,{in:v},c.a.createElement("div",{className:"thanks-modal"},c.a.createElement("h2",{className:"font-weight-bold"},"Thank you for thanking."),c.a.createElement("span",{className:"mb-2"},"Your personal thank you has been saved."),c.a.createElement("div",{className:"mt-4"},c.a.createElement(o.b,{to:"/"},c.a.createElement("button",{className:"home-button"},"Home")),c.a.createElement(N,{buttonText:"Thank again",onClick:function(){return O(),l(""),m(""),void f(null)}}))))))}),O=function(){return c.a.createElement("div",{className:"Homepage"},c.a.createElement(y,null))},S=(a(53),a(77)),H=a(78),B=a(79),F=(a(54),function(){return c.a.createElement("div",{className:"Footer w-100"},c.a.createElement("div",{className:"container-fluid container d-flex justify-content-around h-100"},c.a.createElement("div",{className:"pl-5"},c.a.createElement("h4",{className:"mt-5"},"ThankWell"),c.a.createElement("h6",null,"Send a personal thank you in the moment."),c.a.createElement("div",{className:"icons"},c.a.createElement(S.a,null),c.a.createElement(H.a,null),c.a.createElement(B.a,null),c.a.createElement(i.a,null))),c.a.createElement("div",{className:"links d-flex flex-row justify-content-center pr-5 h-100 "},c.a.createElement(o.b,{className:"Footer-link",to:"/"},"Home"),c.a.createElement(o.b,{className:"Footer-link",to:"/give-thanks"},"Give Thanks"),c.a.createElement(o.b,{className:"Footer-link",to:"/groups"},"Groups"),c.a.createElement(o.b,{className:"Footer-link",to:"/messages"},"Messages"))))}),Y=function(){return c.a.createElement(o.a,null,c.a.createElement("div",{className:"App d-flex flex-column justify-content-between"},c.a.createElement("div",{className:"mb-4"},c.a.createElement(h,null),c.a.createElement("div",{className:"container container-fluid"},c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/messages"}),c.a.createElement(s.a,{path:"/groups"}),c.a.createElement(s.a,{path:"/thanks/:id",component:v}),c.a.createElement(s.a,{path:"/give-thanks"},c.a.createElement(O,null)),c.a.createElement(s.a,{path:"/"},c.a.createElement(k,null))))),c.a.createElement(F,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.e7660d0b.chunk.js.map